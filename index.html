<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Yz4u</title>
  <style>
    :root {
      color-scheme: light;
      --bg-a: #edf1f6;
      --bg-b: #f7fafc;
      --card: rgba(255, 255, 255, 0.82);
      --text: #0f1620;
      --muted: #566273;
      --line: rgba(15, 22, 32, 0.1);
      --accent: #0a7d78;
      --link: #0071e3;
    }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: "SF Pro Display", "SF Pro Text", "Helvetica Neue", Helvetica, sans-serif;
      background:
        radial-gradient(900px 500px at 8% -10%, rgba(0, 113, 227, 0.14), transparent 60%),
        radial-gradient(800px 460px at 95% 0%, rgba(10, 125, 120, 0.14), transparent 56%),
        linear-gradient(160deg, var(--bg-a) 0%, var(--bg-b) 100%);
      color: var(--text);
    }
    main {
      max-width: 860px;
      margin: 0 auto;
      padding: 28px 16px 44px;
    }
    .hero {
      margin-bottom: 16px;
      border: 1px solid var(--line);
      border-radius: 24px;
      padding: 26px 22px;
      background: var(--card);
      box-shadow: 0 18px 40px rgba(12, 19, 34, 0.1);
      backdrop-filter: blur(10px);
    }
    .handle {
      display: inline-flex;
      align-items: center;
      gap: 9px;
      margin: 0;
      text-decoration: none;
      color: var(--text);
      font-size: clamp(24px, 6vw, 34px);
      line-height: 1.1;
      font-weight: 600;
      letter-spacing: -0.02em;
    }
    .handle-icon {
      width: 20px;
      height: 20px;
      display: block;
      border-radius: 5px;
    }
    .lead {
      margin: 12px 0 0;
      color: var(--muted);
      font-size: 17px;
      line-height: 1.55;
    }
    .actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid var(--line);
      text-decoration: none;
      color: var(--text);
      background: rgba(255, 255, 255, 0.86);
      transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
    }
    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(15, 22, 32, 0.14);
      border-color: rgba(15, 22, 32, 0.22);
    }
    .btn svg {
      width: 15px;
      height: 15px;
      display: block;
      fill: currentColor;
    }
    .btn-icon {
      width: 16px;
      height: 16px;
      display: block;
      border-radius: 4px;
    }
    h2 {
      margin: 0 0 10px;
      font-size: 16px;
      letter-spacing: 0.01em;
    }
    p { margin: 0; color: var(--muted); }
    ul { margin: 0; padding-left: 18px; color: var(--muted); }
    li { margin: 6px 0; }
    a { color: var(--link); text-decoration: none; }
    a:hover { text-decoration: underline; }
    code {
      background: #edf2f8;
      padding: 2px 6px;
      border-radius: 6px;
      color: #243244;
      font-size: 0.92em;
    }
    .catalog {
      margin-top: 14px;
      display: grid;
      gap: 12px;
    }
    .env-island {
      margin-top: 14px;
      border: 1px solid var(--line);
      border-radius: 18px;
      padding: 16px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(8px);
    }
    .env-title {
      margin: 0 0 8px;
      font-size: 15px;
      letter-spacing: 0.01em;
      color: #2d3d50;
    }
    .env-text {
      margin: 0;
      color: var(--muted);
      line-height: 1.5;
    }
    .tweak-card {
      display: grid;
      grid-template-columns: 72px 1fr;
      gap: 14px;
      align-items: center;
      border: 1px solid var(--line);
      border-radius: 18px;
      padding: 14px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(8px);
    }
    .tweak-icon {
      width: 72px;
      height: 72px;
      border-radius: 18px;
      box-shadow: 0 10px 18px rgba(15, 22, 32, 0.14);
    }
    .tweak-title {
      margin: 0;
      font-size: 20px;
      letter-spacing: -0.01em;
    }
    .tweak-meta {
      margin-top: 6px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .pill {
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 12px;
      color: #314255;
      background: rgba(255, 255, 255, 0.92);
    }
    .tweak-desc {
      margin-top: 9px;
      line-height: 1.45;
    }
    @media (max-width: 740px) {
      .tweak-card {
        grid-template-columns: 1fr;
        align-items: start;
      }
      main {
        padding-top: 20px;
      }
    }
  </style>
</head>
<body>
  <main>
    <section class="hero">
      <a class="handle" href="https://x.com/Yz_4u" target="_blank" rel="noopener noreferrer">
        <img class="handle-icon" src="./assets/x-icon.svg" alt="X">
        <span>Yz Â· @Yz_4u</span>
      </a>
      <p class="lead">iOS tweak Dev / AI agents Dev</p>
      <div class="actions">
        <a class="btn" href="sileo://source/https://yz4u.github.io/">
          <img class="btn-icon" src="./assets/sileo-icon.png" alt="Sileo">
          Add to Sileo
        </a>
      </div>
    </section>

    <section class="env-island">
      <h2 class="env-title">Development Environment</h2>
      <p class="env-text">MacBook Pro M4 / JB test devices: iPhone 14 Plus / iPhone 13 Pro</p>
    </section>

    <section class="catalog">
      <article class="tweak-card">
        <img class="tweak-icon" src="./assets/lockalive-icon.svg" alt="LockAlive icon">
        <div>
          <h2 class="tweak-title">LockAlive</h2>
          <div class="tweak-meta">
            <span class="pill" id="lockalive-version">Version 1.0.0</span>
            <span class="pill" id="lockalive-updated">Last update 2026-02-21</span>
          </div>
          <p class="tweak-desc">
            Keep SSH/Wi-Fi reachable while locked. Designed for users who run remote commands or file transfer during lock state.
          </p>
        </div>
      </article>
    </section>
  </main>
  <script>
    (function () {
      const packageId = "com.yz4u.lockalive";
      const versionEl = document.getElementById("lockalive-version");
      const updatedEl = document.getElementById("lockalive-updated");

      function pickVersionFromPackages(text, id) {
        const stanzas = text.split(/\n\s*\n/);
        for (const stanza of stanzas) {
          const pkg = stanza.match(/^Package:\s*(.+)$/m);
          if (!pkg || pkg[1].trim() !== id) {
            continue;
          }
          const ver = stanza.match(/^Version:\s*(.+)$/m);
          if (ver) {
            return ver[1].trim();
          }
        }
        return null;
      }

      function toYmd(dateText) {
        const d = new Date(dateText);
        if (Number.isNaN(d.getTime())) {
          return null;
        }
        return d.toISOString().slice(0, 10);
      }

      Promise.allSettled([
        fetch("./Packages", { cache: "no-store" }).then((r) => (r.ok ? r.text() : "")),
        fetch("./Release", { cache: "no-store" }).then((r) => (r.ok ? r.text() : "")),
      ]).then(([packagesRes, releaseRes]) => {
        if (packagesRes.status === "fulfilled" && versionEl) {
          const version = pickVersionFromPackages(packagesRes.value, packageId);
          if (version) {
            versionEl.textContent = "Version " + version;
          }
        }

        if (releaseRes.status === "fulfilled" && updatedEl) {
          const m = releaseRes.value.match(/^Date:\s*(.+)$/m);
          const ymd = m ? toYmd(m[1].trim()) : null;
          if (ymd) {
            updatedEl.textContent = "Last update " + ymd;
          }
        }
      });
    })();
  </script>
</body>
</html>
